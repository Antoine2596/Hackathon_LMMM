# Download xls file
wget https://ftp.ncbi.nlm.nih.gov/geo/series/GSE139nnn/GSE139659/suppl/GSE139659%5FIPvsctrl.complete.xls.gzwget https://ftp.ncbi.nlm.nih.gov/geo/series/GSE139nnn/GSE139659/suppl/GSE139659%5FIPvsctrl.complete.xls.gz

# Decompress
gunzip GSE139659_IPvsctrl.complete.xls.gz

# Convert xls to csv

## Installation avec gnumeric (pour l'instant peut-être à éviter)
## Install gnumeric (https://stackoverflow.com/questions/10557360/convert-xlsx-to-csv-in-linux-with-command-line)
## Ubuntu
# apt-get install gnumeric


docker pull sanrep/gnumeric
docker run -it --rm -u $(id -u):$(id -g) -v .:/data sanrep/gnumeric bash

# Dans le docker
ssconvert GSE139659_IPvsctrl.complete.xls csv.csv

# Remplacer les "," du csv par des tabulations (je n'ai pas trouvé pour le faire directement via gnumeric)
sed -i -e 's/,/\t/g' csv.csv





### DOCKER SINGULARITY

sudo apt-get update
sudo apt-get upgrade


'''
sudo apt-get install \
    apt-transport-https \
    ca-certificates \
    curl \
    software-properties-common
'''

'''
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
'''

'''
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
'''

'''
sudo apt-get update
'''

'''
sudo apt-get install docker-ce
'''

'''
sudo systemctl status docker
'''

# vérifier docker
'''
docker run hello-world
'''

# TRIMGALORE
# j'ai pris celui ci car il est assez recent et il est de paris
'''
docker pull genomicpariscentre/trimgalore
'''

# conversion docker en sigularity image
'''
singularity pull trimgalore.sif docker://genomicpariscentre/trimgalore
'''

'''
singularity exec trimgalore.sif trim_galore --h
'''

# super ça marche
